<div ng-include="'views/partials/nav.html'"></div>

<div layout='row' layout-fill layout-margin>
  <md-input-container>
    <input id="caseNum" ng-model="ec.caseIn" type="text" placeholder="MCM Case Number">
    <md-button type="button" ng-click="ec.getData(ec.caseIn)" class="teal">Enter</md-button>
  </md-input-container>
</div>


<form role="form" class='form-vertical'></form>
<div class="md-form form-group" ng-submit="ec.updateData()" ng-if="ec.showEditForm">
  <!-- <div class="md-form form-group" ng-submit="ec.updateData()"> -->

  <div layout='row' layout-fill layout-margin>
    <md-input-container>
      <input name="Age" placeholder="Age" ng-model="ec.age"></input>
    </md-input-container>
    <md-input-container>
      <label>Gender</label>
      <md-select name="Gender" id="gender" ng-model="ec.gender" ng-value selected="ec.gender" ng-selected="true">
        <md-option value="Male">Male</md-option>
        <md-option value="Female">Female</md-option>
        <md-option value="Non-binary">Non-binary</md-option>
      </md-select>
    </md-input-container>


    <md-checkbox ng-model="ec.AfricanAmericanIn" ng-click="ec.changeRace(ec.race_ethnicity[0])" aria-label="African American"
      ng-checked="ec.race_ethnicity[0].value">
      African American
    </md-checkbox>

    <md-checkbox ng-model="ec.AsianPacificIslanderIn" ng-click="ec.changeRace(ec.race_ethnicity[1])" aria-label="Asian Pacific Islander"
      ng-checked="ec.race_ethnicity[1].value">
      Asian Pacific Islander
    </md-checkbox>

    <md-checkbox ng-model="ec.CaucasianIn" ng-click="ec.changeRace(ec.race_ethnicity[2])" aria-label="Caucasian" ng-checked="ec.race_ethnicity[2].value">
      Caucasian
    </md-checkbox>

    <md-checkbox ng-model="ec.LatinxIn" ng-click="ec.changeRace(ec.race_ethnicity[3])" aria-label="Latinx" ng-checked="ec.race_ethnicity[3].value">
      Latinx
    </md-checkbox>

    <md-checkbox ng-model="ec.NativeAmericanIn" ng-click="ec.changeRace(ec.race_ethnicity[4])" aria-label="Native American" ng-checked="ec.race_ethnicity[4].value">
      Native American
    </md-checkbox>

  </div>

  <h3>Vulnerabilities</h3>

  <div layout='row' layout-fill layout-margin>

    <md-checkbox ng-model="ec.ADDIn" aria-label="ADD/ADHD" ng-click="ec.changeVul(ec.case_vulnerabilities[0])" ng-checked="ec.case_vulnerabilities[0].value">
      ADD/ADHD
    </md-checkbox>

    <md-checkbox ng-model="ec.AutisimIn" aria-label="ASD(Autism Spectrum Disorder)" ng-click="ec.changeVul(ec.case_vulnerabilities[1])"
      ng-checked="ec.case_vulnerabilities[1].value">
      ASD (Autism Spectrum Disorder)
    </md-checkbox>


    <md-checkbox ng-model="ec.AlcoholIn" aria-label="AlcoholUseAbuse" ng-click="ec.changeVul(ec.case_vulnerabilities[2])" ng-checked="ec.case_vulnerabilities[2].value">
      Alcohol Use/Abuse
    </md-checkbox>


    <md-checkbox ng-model="ec.AnxietyIn" aria-label="Anxiety" ng-click="ec.changeVul(ec.case_vulnerabilities[3])" ng-checked="ec.case_vulnerabilities[3].value">
      Anxiety
    </md-checkbox>

    <md-checkbox ng-model="ec.BiPolarIn" aria-label="BiPolarDisorder" ng-click="ec.changeVul(ec.case_vulnerabilities[4])" ng-checked="ec.case_vulnerabilities[4].value">
      Bi-Polar Disorder
    </md-checkbox>

    <md-checkbox ng-model="ec.DepressionClinicalIn" aria-label="Depression(clinical)" ng-click="ec.changeVul(ec.case_vulnerabilities[5])"
      ng-checked="ec.case_vulnerabilities[5].value">
      Depression (clinical)
    </md-checkbox>

    <md-checkbox ng-model="ec.DespressionSituationalIn" aria-label="Depression (situational)" ng-click="ec.changeVul(ec.case_vulnerabilities[6])"
      ng-checked="ec.case_vulnerabilities[6].value">
      Depression (situational)
    </md-checkbox>

    <md-checkbox ng-model="ec.DrugUseIn" aria-label="Drug Use/Abuse" ng-click="ec.changeVul(ec.case_vulnerabilities[7])" ng-checked="ec.case_vulnerabilities[7].value">
      Drug Use/Abuse
    </md-checkbox>

  </div>

  <div layout='row' layout-fill layout-margin>

    <md-checkbox ng-model="ec.EconomicIn" aria-label="EconomicExploitation(history)" ng-click="ec.changeVul(ec.case_vulnerabilities[8])"
      ng-checked="ec.case_vulnerabilities[8].value">
      Economic exploitation (history)
    </md-checkbox>

    <md-checkbox ng-model="ec.EmotionalAbuseIn" aria-label="Emotional Abuse (history)" ng-click="ec.changeVul(ec.case_vulnerabilities[9])"
      ng-checked="ec.case_vulnerabilities[9].value">
      Emotional Abuse (history)
    </md-checkbox>

    <md-checkbox ng-model="ec.GangIn" aria-label="Gang Association" ng-click="ec.changeVul(ec.case_vulnerabilities[10])" ng-checked="ec.case_vulnerabilities[10].value">
      Gang Association
    </md-checkbox>

    <md-checkbox ng-model="ec.ODDIn" aria-label="ODD (Oppositional Defiant Disorder)" ng-click="ec.changeVul(ec.case_vulnerabilities[11])"
      ng-checked="ec.case_vulnerabilities[11].value">
      ODD (Oppositional Defiant Disorder)
    </md-checkbox>

    <md-checkbox ng-model="ec.LaborIn" aria-label="Labor Exploitation (history)" ng-click="ec.changeVul(ec.case_vulnerabilities[12])"
      ng-checked="ec.case_vulnerabilities[12].value">
      Labor Exploitation (history)
    </md-checkbox>

    <md-checkbox ng-model="ec.LuringAdultIn" aria-label="Luring/grooming by adult" ng-click="ec.changeVul(ec.case_vulnerabilities[13])"
      ng-checked="ec.case_vulnerabilities[13].value">
      Luring/grooming by adult
    </md-checkbox>


  </div>
  <div layout='row' layout-fill layout-margin>

    <md-checkbox ng-model="ec.LuringChildIn" aria-label="Luring/grooming by child" ng-click="ec.changeVul(ec.case_vulnerabilities[14])"
      ng-checked="ec.case_vulnerabilities[14].value">
      Luring/grooming by child
    </md-checkbox>


    <md-checkbox ng-model="ec.MissingFromCareIn" aria-label="Missing From Care" ng-click="ec.changeVul(ec.case_vulnerabilities[15])"
      ng-checked="ec.case_vulnerabilities[15].value">
      Missing From Care
    </md-checkbox>

    <md-checkbox ng-model="ec.PhysicalAbuseIn" aria-label="Physical Abuse (history)" ng-click="ec.changeVul(ec.case_vulnerabilities[16])"
      ng-checked="ec.case_vulnerabilities[16].value">
      Physical Abuse (history)
    </md-checkbox>

    <md-checkbox ng-model="ec.RunawayIn" aria-label="Runaway (history)" ng-click="ec.changeVul(ec.case_vulnerabilities[17])"
      ng-checked="ec.case_vulnerabilities[17].value">
      Physical Abuse (history)
    </md-checkbox>

    <md-checkbox ng-model="ec.SexualAbuseIn" aria-label="Sexual Abuse (history)" ng-click="ec.changeVul(ec.case_vulnerabilities[18])"
      ng-checked="ec.case_vulnerabilities[18].value">
      Sexual Abuse (history)
    </md-checkbox>

    <md-checkbox ng-model="ec.SexualExploitationIn" aria-label="Sexual Exploitation (history)" ng-click="ec.changeVul(ec.case_vulnerabilities[19])"
      ng-checked="ec.case_vulnerabilities[19].value">
      Sexual Abuse (history)
    </md-checkbox>

    <md-checkbox ng-model="ec.SexualMinorityIn" aria-label="Sexual Exploitation (history)" ng-click="ec.changeVul(ec.case_vulnerabilities[20])"
      ng-checked="ec.case_vulnerabilities[20].value">
      Sexual Minority (LGBTQ, etc.)
    </md-checkbox>

  </div>



  <div layout='row' layout-fill layout-margin>
    <md-input-container>
      <input id="DateLastSeen" ng-model="ec.DateLastSeenIn" type="date" style="width:150px;" placeholder="Date Last Seen">
    </md-input-container>
    <md-input-container>
      <!-- <input id="DateReportedMissingtoPolice" ng-model="ec.DateReportedMissingtoPoliceIn" style="width:250px;" type="date" placeholder="Date Reported Missing to Police"> -->
      <input id="DateReportedMissingtoPolice" ng-model="ec.DateReportedMissingtoPoliceIn" style="width:250px;" type="date" placeholder="Date Reported Missing to Police">
    </md-input-container>

    <md-input-container>
      <label>City Missing From</label>
          
      <md-select name="City Missing From" id="city" ng-model="ec.CityMissingFormIn" ng-change="ec.itemChange()" ng-selected="true">
        <md-option ng-repeat="city in ec.city" value="ec.city_id" selected>{{city}}</md-option>
        <md-option ng-repeat="cityObj in ec.cities" ng-value="{{cityObj.id}}">{{cityObj.city_name}}</md-option>
      </md-select>
    </md-input-container>

    <md-input-container style="margin-right: 10px;width: 20%;">
      <label>County Missing From</label>
      <md-select ng-model="ec.CountyMissingFormIn" ng-change="ec.itemChange()" ng-selected="true">
        <md-option ng-repeat="county in ec.county_name" value="ec.county" selected>{{county}}</md-option>
        <md-option ng-repeat="countyObj in ec.counties" ng-value="countyObj.county">{{countyObj.county_name}}</md-option>
      </md-select>
    </md-input-container>

    <md-input-container>
      <label>State Missing From</label>              
      <md-select name="StateMissingFrom" id="StateMissingFrom" ng-model="ec.state" ng-change="ec.itemChange()" ng-value selected="ec.state" ng-selected="true">
        <md-option value="AL">Alabama</md-option>
        <md-option value="AK">Alaska</md-option>
        <md-option value="AZ">Arizona</md-option>
        <md-option value="AR">Arkansas</md-option>
        <md-option value="CA">California</md-option>
        <md-option value="CO">Colorado</md-option>
        <md-option value="CT">Connecticut</md-option>
        <md-option value="DE">Delaware</md-option>
        <md-option value="DC">District Of Columbia</md-option>
        <md-option value="FL">Florida</md-option>
        <md-option value="GA">Georgia</md-option>
        <md-option value="HI">Hawaii</md-option>
        <md-option value="ID">Idaho</md-option>
        <md-option value="IL">Illinois</md-option>
        <md-option value="IN">Indiana</md-option>
        <md-option value="IA">Iowa</md-option>
        <md-option value="KS">Kansas</md-option>
        <md-option value="KY">Kentucky</md-option>
        <md-option value="LA">Louisiana</md-option>
        <md-option value="ME">Maine</md-option>
        <md-option value="MD">Maryland</md-option>
        <md-option value="MA">Massachusetts</md-option>
        <md-option value="MI">Michigan</md-option>
        <md-option value="MN">Minnesota</md-option>
        <md-option value="MS">Mississippi</md-option>
        <md-option value="MO">Missouri</md-option>
        <md-option value="MT">Montana</md-option>
        <md-option value="NE">Nebraska</md-option>
        <md-option value="NV">Nevada</md-option>
        <md-option value="NH">New Hampshire</md-option>
        <md-option value="NJ">New Jersey</md-option>
        <md-option value="NM">New Mexico</md-option>
        <md-option value="NY">New York</md-option>
        <md-option value="NC">North Carolina</md-option>
        <md-option value="ND">North Dakota</md-option>
        <md-option value="OH">Ohio</md-option>
        <md-option value="OK">Oklahoma</md-option>
        <md-option value="OR">Oregon</md-option>
        <md-option value="PA">Pennsylvania</md-option>
        <md-option value="RI">Rhode Island</md-option>
        <md-option value="SC">South Carolina</md-option>
        <md-option value="SD">South Dakota</md-option>
        <md-option value="TN">Tennessee</md-option>
        <md-option value="TX">Texas</md-option>
        <md-option value="UT">Utah</md-option>
        <md-option value="VT">Vermont</md-option>
        <md-option value="VA">Virginia</md-option>
        <md-option value="WA">Washington</md-option>
        <md-option value="WV">West Virginia</md-option>
        <md-option value="WI">Wisconsin</md-option>
        <md-option value="WY">Wyoming</md-option>
      </md-select>
    </md-input-container>

  </div>

  <div layout='row' layout-fill layout-margin>

    <md-input-container>
      <input id="familyMembers" ng-model="ec.familyMembers" type="text" placeholder="Number of Family Members Involved in Search">
    </md-input-container>

    <md-input-container>
      <label>Case Type When Opened</label>          
      <md-select name="Starting Case Type" id="StartingCaseType" ng-model="ec.start_case_type" ng-change="ec.itemChange()" ng-value selected="ec.start_case_type" ng-selected="true">
        <md-option value="Runaway">Runaway</md-option>
        <md-option value="Abduction by Family Member">Abduction by Family Member</md-option>
        <md-option value="Abduction by Acquaintance">Abduction by Acquaintance</md-option>
        <md-option value="Stranger Abduction">Stranger Abduction</md-option>
        <md-option value="LIM">LIM</md-option>
      </md-select>
    </md-input-container>


    <md-input-container>
      <input id="DateClosed" ng-model="ec.DateClosed" style="width:150px;" type="date" placeholder="Date Closed">
    </md-input-container>

    <md-input-container>
      <label>Case Type When Closed</label>

      <md-select name="Ending Case Type" id="yes" ng-model="ec.end_case_type" ng-value selected="ec.end_case_type">
        <md-option value="null"></md-option>
        <md-option value="Runaway">Runaway</md-option>
        <md-option value="Abduction by Family Member">Abduction by Family Member</md-option>
        <md-option value="Abduction by Acquaintance">Abduction by Acquaintance</md-option>
        <md-option value="Stranger Abduction">Stranger Abduction</md-option>
        <md-option value="LIM">LIM</md-option>
      </md-select>
    </md-input-container>

  </div>

  <div layout='row' layout-fill layout-margin>

    <md-input-container>
      <label>Law Enforcement Agency On Case</label>
      <md-select ng-model="ec.LawEnforcementAgencyonCaseIn1" ng-change="ec.itemChange()" style="width:280px;" placeholder="Law Enforcement Agency" ng-selected="true">
        <md-option ng-if="ec.jurisdictional_denial[0]" ng-model="ec.jurisdictional_denial[0]" value="ec.jurisdictional_denial[0].id" selected>{{ec.jurisdictional_denial[0].name}}</md-option>
        <md-option ng-repeat="dept in ec.agencies" ng-value="{{dept.id}}">{{dept.agency}}</md-option>
      </md-select>
    </md-input-container>



    <md-input-container style="width:280px;">
      <label>Jurisdictional Denial?</label>
      <md-select ng-model="ec.jurisdictional_denial[0].value" ng-change="ec.itemChange()" placeholder="Jurisdictional denial" ng-value selected="ec.jurisdictional_denial[0].value">
        <md-option value="true">Yes</md-option>
        <md-option value="false">No </md-option>
      </md-select>
    </md-input-container>
  </div>

  <div layout='row' layout-fill layout-margin>

    <md-input-container>
      <label>Law Enforcement Agency On Case</label>
      <md-select ng-model="ec.LawEnforcementAgencyonCaseIn2" ng-change="ec.itemChange()" style="width:280px;">
        <md-option ng-if="ec.jurisdictional_denial[1]" ng-model="ec.jurisdictional_denial[1]" value="ec.jurisdictional_denial[1].id" selected>{{ec.jurisdictional_denial[1].name}}</md-option>
        <md-option ng-repeat="dept in ec.agencies" ng-value="{{dept.id}}">{{dept.agency}}</md-option>
      </md-select>
    </md-input-container>

    <md-input-container style="width:280px;">
      <label>Jurisdictional Denial?</label>
      <md-select ng-model="ec.jurisdictional_denial[1].value" ng-change="ec.itemChange()" placeholder="Jurisdictional denial" ng-value selected="ec.jurisdictional_denial[1].value">
        <md-option value="true">Yes</md-option>
        <md-option value="false">No </md-option>
      </md-select>
    </md-input-container>
  </div>

  <div layout='row' layout-fill layout-margin>

    <md-input-container>
      <label>Law Enforcement Agency On Case</label>
      <md-select ng-model="ec.LawEnforcementAgencyonCaseIn3" ng-change="ec.itemChange()" style="width:280px;">
        <md-option ng-if="ec.jurisdictional_denial[2]" ng-model="ec.jurisdictional_denial[2]" value="ec.jurisdictional_denial[2].id" selected>{{ec.jurisdictional_denial[2].name}}</md-option>
        <md-option ng-repeat="dept in ec.agencies" ng-value="{{dept.id}}">{{dept.agency}}</md-option>
      </md-select>
    </md-input-container>



    <md-input-container style="width:280px;">
      <label>Jurisdictional Denial?</label>
      <md-select ng-model="ec.jurisdictional_denial[2].value" ng-change="nwc.itemChange()" placeholder="Jurisdictional denial" id="yes" ng-value selected="ec.jurisdictional_denial[2].value">
        <md-option value="true">Yes</md-option>
        <md-option value="false">No </md-option>
      </md-select>
    </md-input-container>
  </div>

  <div layout='row' layout-fill layout-margin>

    <md-input-container>
      <label>Law Enforcement Agency On Case</label>
      <md-select ng-model="ec.LawEnforcementAgencyonCaseIn4" ng-change="ec.itemChange()" style="width:280px;">
        <md-option ng-if="ec.jurisdictional_denial[3]" ng-model="ec.jurisdictional_denial[3]" value="ec.jurisdictional_denial[3].id" selected>{{ec.jurisdictional_denial[3].name}}</md-option>
        <md-option ng-repeat="dept in ec.agencies" ng-value="{{dept.id}}">{{dept.agency}}</md-option>
      </md-select>
    </md-input-container>


    <md-input-container style="width:280px;">
      <label>Jurisdictional Denial?</label>
      <md-select ng-model="ec.jurisdictional_denial[3].value" ng-change="ec.itemChange()" placeholder="Jurisdictional denial" id="yes" ng-value selected="ec.jurisdictional_denial[3].value">
        <md-option value="true">Yes</md-option>
        <md-option value="false">No </md-option>
      </md-select>
    </md-input-container style="width:280px;">
  </div>

  <div layout='row' layout-fill layout-margin>

    <md-input-container>
      <label>Law Enforcement Agency On Case</label>
      <md-select ng-model="ec.LawEnforcementAgencyonCaseIn5" ng-change="ec.itemChange()" style="width:280px;">
        <md-option ng-if="ec.jurisdictional_denial[4]" ng-model="ec.jurisdictional_denial[4]" value="ec.jurisdictional_denial[4].id" selected>{{ec.jurisdictional_denial[4].name}}</md-option>
        <md-option ng-repeat="dept in ec.agencies" ng-value="{{dept.id}}">{{dept.agency}}</md-option>
      </md-select>
    </md-input-container>



    <md-input-container style="width:280px;">
      <label>Jurisdictional Denial?</label>
      <md-select ng-model="ec.jurisdictional_denial[4].value" ng-change="ec.itemChange()" placeholder="Jurisdictional denial" id="yes" ng-value selected="ec.jurisdictional_denial[4].value">
        <md-option value="true">Yes</md-option>
        <md-option value="false">No </md-option>
      </md-select>
    </md-input-container style="width:280px;">
  </div>

  <div layout='row' layout-fill layout-margin>
    <md-input-container>
      <label>School District</label>
      <md-select name="School District" id="school" ng-model="ec.schoolDistrict" ng-change="ec.itemChange()" ng-selected="true">
        <md-option ng-model="ec.selectedSchoolDistrict" value="ec.selectedSchoolDistrict.id" selected>{{ec.selectedSchoolDistrict.school_name}}</md-option>
        <md-option ng-repeat="school in ec.schools" ng-value="{{school.id}}">{{school.school_name}}</md-option>
      </md-select>
    </md-input-container>

    <md-input-container>
      <label>Disposition</label>
      <md-select name="Disposition" placeholder="Disposition" id="disposition" ng-model="ec.disposition">
        <md-option value="Missing Found Safe">Missing Found Safe</md-option>
        <md-option value="Missing Found Injured">Missing Found Injured</md-option>
        <md-option value="Missing Found Deceased">Missing Found Deceased</md-option>
      </md-select>
    </md-input-container>

  <md-input-container>    
    <label>Referral Type</label>
    <md-select name="Referral Type" placeholder="Referral Type" id="yes" ng-model="ec.referralType" ng-value selected="ec.referralType">
      <md-option value="Word of Mouth">Word of Mouth</md-option>
      <md-option value="Facebook">Facebook</md-option>
      <md-option value="Website">Website</md-option>
      <md-option value="Referral by Law Enforcement">Referral by Law Enforcement</md-option>
      <md-option value="Referral by County Worker">Referral by County Worker</md-option>
    </md-select>
  </md-input-container>
      
  </div>


  <div layout="row" layout-fill layout-margin>


    <md-button type="submit" class="teal" ng-click="ec.updateData()">Submit</md-button>
  </div>
  </form>